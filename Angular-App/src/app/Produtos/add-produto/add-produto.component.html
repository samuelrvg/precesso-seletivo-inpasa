<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-8"><br>
      <h4 class="text-center">Lista de Produtos</h4>
      <div class="row justify-content-center">
        <div class="col">

          <div class="form-group">

            <form #form="ngForm" autocomplete="off">

              <div class="form-group">
                <label>Nome</label>
                <input type="text" class="form-control" id="nome"
                       #nomeModel="ngModel" required [(ngModel)]="produto.nome" name="nome"/>
                <div class="validation-error" *ngIf="nomeModel.invalid && nomeModel.touched">Campo obrigatório.</div>
              </div>

            <div class="form-group">
                <label>Descrição</label>
                <input type="text" class="form-control" id="descricao"
                       #descricaoModel="ngModel" required [(ngModel)]="produto.descricao" name="descricao"/>
                <div class="validation-error" *ngIf="descricaoModel.invalid && descricaoModel.touched">Campo obrigatório.</div>
              </div>

              <div class="form-row">
                <div *ngIf="existeTipo" class="form-group col-md-6">
                  <label>Tipo do Produto</label>
                  <select class="form-control"                    
                    id="tipoProduto"
                    #tipoProdutoIdModel="ngModel" 
                    required [(ngModel)]="produto.tipoProdutoId"
                    name="tipoProduto">
                    <option *ngFor="let item of tipoProduto"
                    [ngValue]="item.tipoProdutoId">
                    {{item.tipoNome}}</option>                  
                  </select>
                  <div class="validation-error" *ngIf="tipoProdutoIdModel.invalid && tipoProdutoIdModel.touched">Campo obrigatório.</div>
                </div>

                <div *ngIf="existeTipo == false" class="form-group col-md-6">
                  <label>Nenhum TipoProdutos cadastrado.</label>
                  <a class="btn btn-warning btn-block" routerLink="/produtos/tipoprodutos">Cadastar Novo TipoProduto</a>
                </div>


                <div class="form-group col-md-6">
                  <label>Preço</label>
                  <input currencyMask  type="text" class="form-control" id="preco"
                         #precoModel="ngModel" required [(ngModel)]="produto.preco" name="preco"
                         [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',', align: 'left' }"/>
                  <div class="validation-error" *ngIf="precoModel.invalid && precoModel.touched">Campo obrigatório.</div>
                </div>

              </div>

              <button *ngIf="existeTipo" [disabled]="form.invalid" (click)="saveProduto(produto)" class="btn btn-success btn-block">Cadastrar</button>

            </form>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>

